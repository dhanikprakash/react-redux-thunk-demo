(this["webpackJsonpreact-redux"]=this["webpackJsonpreact-redux"]||[]).push([[0],{71:function(e,t,a){e.exports=a(97)},76:function(e,t,a){},91:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=a(42),u=(a(76),a(77),a(11)),s=a(33),i=a(136),m=a(138),f=a(140),h=a(44),E=a(146),d=a(22);var p=a(133),b=Object(p.a)({root:{minWidth:275,margin:"30px 30px 0px 30px",textAlign:"center"},title:{fontSize:14,marginBottom:20},pos:{marginBottom:20}});function v(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=b(),l=Object(n.useState)(""),u=Object(s.a)(l,2),p=u[0],v=u[1],g=Object(d.b)(),S=function(){return c(!a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:o.root,onMouseOver:S,onMouseOut:S,raised:a},r.a.createElement(m.a,null,r.a.createElement(h.a,{variant:"h5",component:"h2"},"Next Front-End Search - Apple API"),r.a.createElement(h.a,{className:o.title,color:"textSecondary",gutterBottom:!0},"React/Redux/Thunk/Node/Styled component/FP/Jest/Material UI"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Dispatch Search Query: "+p.value),g({type:"CREATE_SEARCH",searchKey:p.value.replace(/ /g,"+")})},noValidate:!0,autoComplete:"off"},r.a.createElement(E.a,{id:"standard-basic",inputRef:function(e){return v(e)},label:"Artist/Album/Song"}),r.a.createElement(f.a,{variant:"contained",color:"primary",type:"submit"},"Search")))))}var g=a(49),S=a(56),O=a(57),y=a.n(O),j=a(139),w=a(141),x=a(143),A=a(142),C=a(147),_=a(144),k=a(45),N=a(32),R=a.n(N),K=a(41);function M(e){throw console.log("API call failed. "+e),e}function D(e,t,a){return fetch("https://itunes.apple.com/search?media=music&offset=".concat(e,"&limit=").concat(t,"&term=").concat(a)).then((function(e){return e.json()})).catch(M)}function T(e){return{type:"LOAD_RESULT_SUCCESS",results:e}}function P(){var e={limit:10,hasMore:!1,offSet:0,searchKey:"",items:[]},t=Object(n.useState)(0),a=Object(s.a)(t,2),c=a[0],o=a[1],l=b(),u=Object(d.c)((function(e){return e.searchKey})),f=Object(d.c)((function(e){return e.results})),h=Object(n.useState)(e),E=Object(s.a)(h,2),p=E[0],v=E[1],O=Object(d.b)();Object(n.useEffect)((function(){null!==u&&u!==p.searchKey&&v(e),O(function(e,t,a){return function(){var n=Object(K.a)(R.a.mark((function n(r){var c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D(e,t,a);case 3:c=n.sent,r(T(c)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("Api call error");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(p.offSet,p.limit,u))}),[u,c]),Object(n.useEffect)((function(){null!=f&&f.resultCount>=0&&(v(Object(g.a)(Object(g.a)({},p),{},{hasMore:f.results.length>0,offSet:p.offSet+f.results.length,searchKey:u,items:p.items.concat(f.results)})),0===f.results.length&&0===p.offSet&&null!=u&&""!==u&&(k.a.warn(" No Matching Results",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0}),v(e))),console.log(f)}),[f]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:l.root,raised:!0},r.a.createElement(m.a,null,r.a.createElement("div",{id:"scrollableDiv",style:{height:600,overflow:"auto"}},r.a.createElement(S.a,{dataLength:p.items.length,next:function(){o(p.offSet)},hasMore:p.hasMore,scrollableTarget:"scrollableDiv"},r.a.createElement(j.a,null,p.items.map((function(e){return r.a.createElement("div",{key:y.a.generate()},r.a.createElement(w.a,null,r.a.createElement(A.a,null,r.a.createElement(C.a,{src:e.artworkUrl100})),r.a.createElement(x.a,{primary:e.artistName,secondary:e.trackName+" - "+e.collectionName})),r.a.createElement(_.a,{variant:"inset",component:"li"}))}))))))))}function U(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(P,null))}a(91);var B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{basename:"/react-redux-thunk-demo"},r.a.createElement(u.b,{render:function(e){var t=e.location;return r.a.createElement(u.d,{location:t},r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(u.a,{to:"/SearchPage"})),r.a.createElement(u.b,{path:"/SearchPage",exact:!0,component:U}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(20),L={searchKey:"",results:{}};var I=Object(F.c)({searchKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.searchKey,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_SEARCH":return t.searchKey;default:return e}},results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.results,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_RESULT_SUCCESS":return t.results;default:return e}}}),J=a(58),W=a.n(J),H=a(59);var V=a(145),X=function(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d;return Object(F.e)(I,e,t(Object(F.a)(H.a,W()())))}();o.a.render(r.a.createElement(d.a,{store:X},r.a.createElement(V.a,null),r.a.createElement(l.a,null,r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.52ebf87b.chunk.js.map